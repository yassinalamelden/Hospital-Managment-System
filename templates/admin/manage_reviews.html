{% extends 'layouts/admin_base.html' %}

{% block title %}Review Management{% endblock %}
{% block page_title %}Review Management{% endblock %}
{% block page_subtitle %}Moderate patient feedback and testimonials{% endblock %}

{% block header_actions %}
<a href="{% url 'admin-dashboard' %}" class="btn btn-outline-primary rounded-pill btn-sm">
    <i class="fas fa-arrow-left me-1"></i> Back to Dashboard
</a>
{% endblock %}

{% block content %}
<!-- Statistics Cards -->
<div class="row g-4 mb-4">
    <div class="col-md-6">
        <div class="magic-card text-center">
            <div class="fs-1 text-accent mb-2">{{ total_reviews }}</div>
            <div class="text-muted small text-uppercase">Total Reviews</div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="magic-card text-center">
            <div class="fs-1 text-warning mb-2">{{ pending_reviews }}</div>
            <div class="text-muted small text-uppercase">Pending Moderation</div>
        </div>
    </div>
</div>

<!-- Info Alert -->
<div class="alert alert-info rounded-3 mb-4">
    <i class="fas fa-info-circle me-2"></i>
    <strong>Note:</strong> The Review model needs to be created to enable full functionality. This is a placeholder interface.
</div>

<!-- Reviews List (Placeholder) -->
<div class="magic-card">
    <div class="text-center py-5">
        <i class="fas fa-star fa-4x text-muted mb-3"></i>
        <h5 class="text-muted">Review Management Coming Soon</h5>
        <p class="text-muted small mb-4">Create a Review model in your Django app to enable this feature.</p>
        
        <div class="alert alert-light border d-inline-block text-start">
            <strong>Suggested Review Model Fields:</strong>
            <ul class="mb-0 mt-2 small">
                <li>patient (ForeignKey to Patient)</li>
                <li>rating (IntegerField, 1-5)</li>
                <li>comment (TextField)</li>
                <li>created_at (DateTimeField)</li>
                <li>is_approved (BooleanField)</li>
            </ul>
        </div>
    </div>
</div>

<!-- Example Template for Future Implementation -->
<!--
<div class="magic-card">
    <div class="table-responsive">
        <table class="medical-table">
            <thead>
                <tr>
                    <th>Patient</th>
                    <th>Rating</th>
                    <th>Comment</th>
                    <th>Date</th>
                    <th>Status</th>
                    <th class="text-center">Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for review in reviews %}
                <tr>
                    <td>{{ review.patient.name }}</td>
                    <td>
                        {% for i in "12345" %}
                            {% if forloop.counter <= review.rating %}
                                <i class="fas fa-star text-warning"></i>
                            {% else %}
                                <i class="far fa-star text-muted"></i>
                            {% endif %}
                        {% endfor %}
                    </td>
                    <td>{{ review.comment|truncatewords:15 }}</td>
                    <td>{{ review.created_at|date:"M d, Y" }}</td>
                    <td>
                        {% if review.is_approved %}
                            <span class="badge bg-success rounded-pill">Approved</span>
                        {% else %}
                            <span class="badge bg-warning rounded-pill">Pending</span>
                        {% endif %}
                    </td>
                    <td class="text-center">
                        <form method="post" action="{% url 'delete-review' review.id %}" class="d-inline">
                            {% csrf_token %}
                            <button type="submit" class="btn btn-outline-danger btn-sm rounded-pill" onclick="return confirm('Delete this review?')">
                                <i class="fas fa-trash"></i> Delete
                            </button>
                        </form>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="6" class="text-center text-muted py-5">
                        No reviews found.
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
-->
{% endblock %}
