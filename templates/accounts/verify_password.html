{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="row justify-content-center py-5">
    <div class="col-md-6 col-lg-4">
        <div class="card border-0 shadow-lg rounded-4 overflow-hidden">
            <!-- Header -->
            <div class="bg-dark p-5 text-center text-white position-relative">
                <div class="position-absolute top-0 start-0 w-100 h-100 opacity-10"
                    style="background-image: url('https://www.transparenttextures.com/patterns/carbon-fibre.png');">
                </div>

                <div class="mb-4 d-inline-block p-3 rounded-circle bg-white bg-opacity-10">
                    <span class="fs-1">üõ°Ô∏è</span>
                </div>
                <h2 class="fw-bold mb-1 brand-font tracking-widest text-uppercase">Security Check</h2>
                <p class="text-white-50 small mb-0">Identity verification required</p>
            </div>

            <!-- Body -->
            <div class="card-body p-5">
                <p class="text-center text-muted mb-4">
                    For your protection, please re-enter your account password to access sensitive medical profile
                    settings.
                </p>

                {% if messages %}
                {% for message in messages %}
                <div class="alert alert-danger rounded-3 p-3 mb-4 small border-0 animate__animated animate__shakeX">
                    ‚ö†Ô∏è {{ message }}
                </div>
                {% endfor %}
                {% endif %}

                <form method="post">
                    {% csrf_token %}
                    <div class="mb-4">
                        <label
                            class="form-label small fw-bold text-muted text-uppercase tracking-wider">Password</label>
                        <div class="input-group">
                            <span class="input-group-text bg-light border-0"><span class="opacity-50">üîë</span></span>
                            <input type="password" name="password"
                                class="form-control form-control-custom bg-light border-0 px-4"
                                placeholder="Enter your password" required autofocus>
                        </div>
                    </div>

                    <button type="submit"
                        class="btn btn-dark w-100 py-3 rounded-pill fw-bold text-uppercase tracking-widest hover-scale">
                        Verify Identity
                    </button>

                    <div class="text-center mt-4">
                        <a href="{% url 'client-portal' %}"
                            class="text-muted small text-decoration-none hover-underline">
                            ‚Üê Return to Dashboard
                        </a>
                    </div>
                </form>
            </div>
        </div>

        <!-- Security Badge -->
        <div
            class="text-center mt-4 py-3 px-4 rounded-pill bg-light d-inline-block position-relative start-50 translate-middle-x">
            <span class="small text-muted fw-bold">
                <span class="text-success me-1">‚óè</span> End-to-end encrypted session
            </span>
        </div>
    </div>
</div>

<style>
    .brand-font {
        font-family: 'Inter', sans-serif;
    }

    .tracking-widest {
        letter-spacing: 0.2rem;
    }

    .form-control-custom:focus {
        box-shadow: none;
        background-color: #f1f1f1 !important;
    }

    .hover-scale {
        transition: transform 0.2s;
    }

    .hover-scale:hover {
        transform: scale(1.02);
    }
</style>
{% endblock %}